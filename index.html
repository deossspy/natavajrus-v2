<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/Article">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>natavajrus V2</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="icon.png" type="image/png">
</head>
<body>

<div class="topbar">
    <center>
        <img src="natavajrus.png">
        <img src="v2.png" id="v2">
    </center>
</div>

<button id="redirectButton">Redirect Button</button>
<button id="button1">Button 1</button>
<button id="button2">Button 2</button>
<button id="signinButton">Sign in with Google</button>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="https://apis.google.com/js/client:platform.js?onload=start" async defer></script>

<script>
  var auth2; // Google Sign-In authentication object

  function start() {
    gapi.load('auth2', function() {
      auth2 = gapi.auth2.init({
        client_id: '516056401304-vk2dmd8l4vdc9s6rve882ec7iklq5olq.apps.googleusercontent.com',
      });
    });
  }

  // Attach event listener to the sign-in button
  $('#signinButton').click(function() {
    signIn();
  });

  // Function to initiate the sign-in process
  function signIn() {
    auth2.signIn().then(function(googleUser) {
      var authResponse = googleUser.getAuthResponse();
      signInCallback(authResponse);
    });
  }

  // Define the callback function to handle the authorization response
  function signInCallback(authResult) {
    if (authResult['code']) {
      $('#signinButton').hide(); // Hide sign-in button

      // Send the authorization code to the server
      $.ajax({
        type: 'POST',
        url: 'login.html',
        headers: {
          'X-Requested-With': 'XMLHttpRequest'
        },
        contentType: 'application/octet-stream; charset=utf-8',
        success: function(result) {
          // Handle or verify the server response
        },
        processData: false,
        data: authResult['code']
      });
    } else {
      // Handle sign-in error
    }
  }
</script>

<script>
    const button1 = document.getElementById('button1');
    const button2 = document.getElementById('button2');
    const redirectButton = document.getElementById('redirectButton');

    // Event listeners for button clicks
    button1.addEventListener('click', () => {
        redirectButton.textContent = 'Redirect to Button 1';
        redirectButton.onclick = function() {
            window.location.href = 'https://example.com/button1';
        };
    });
    button2.addEventListener('click', () => {
        redirectButton.textContent = 'Redirect to Button 2';
        redirectButton.onclick = function() {
            window.location.href = 'https://example.com/button2';
        };
    });
</script>

</body>
</html>
